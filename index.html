<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>❤みみちゃん占い❤</title>
<meta name="description" content="“もう一度愛されたい”あなたへ。総合運・恋愛・仕事・金運・ラッキーカラー/アイテム/スポット・開運アドバイスをやさしくお届け。">
<meta name="theme-color" content="#f8a5c2">
<style>
  :root{
    --pink:#f8a5c2;     /* やさしいピンク */
    --hotpink:#f48fb1;  /* 少し濃いピンク（枠線など） */
    --bg:#fff6fb; --ink:#333; --card:#ffffff;
    --shadow:0 10px 25px rgba(255,79,161,.25);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:"Hiragino Kaku Gothic ProN","Yu Gothic","Meiryo",system-ui,sans-serif;
    background: radial-gradient(1200px 600px at 80% -10%, #ffe3f1 0%, transparent 60%),
                radial-gradient(1000px 500px at -10% 110%, #ffeaf6 0%, transparent 60%), var(--bg);
    color:var(--ink); display:flex; min-height:100svh; align-items:center; justify-content:center; padding:24px;
  }
  .app{ width:min(760px,100%); background:var(--card); border-radius:24px; box-shadow:var(--shadow); padding:24px 22px 28px; position:relative; overflow:hidden; }
  .ribbon{ position:absolute; inset:auto -40px 18px auto; transform:rotate(12deg); background:linear-gradient(135deg,#ffd9ec,var(--pink)); color:#a4005a; padding:6px 22px; border-radius:12px; font-weight:700; box-shadow:0 6px 18px rgba(255,105,180,.35); }
  h1{ margin:8px 0 12px; text-align:center; font-size:clamp(22px,4vw,30px); color:var(--hotpink); }
  p.lead{ text-align:center; margin:0 0 18px; opacity:.85 }
  .controls{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:16px 0 20px }
  button{ border:0; border-radius:999px; padding:12px 18px; font-size:16px; cursor:pointer; transition:transform .04s,filter .2s; box-shadow:0 6px 14px rgba(0,0,0,.06) }
  .primary{ background:var(--hotpink); color:#fff }
  .ghost{ background:#fff; color:var(--hotpink); border:2px solid var(--hotpink) }
  button:active{ transform:translateY(1px) scale(.99) }

  .grid{ display:grid; gap:12px; grid-template-columns:repeat(12,1fr); }
  .card{ background:#fff; border:1px solid #ffe5f1; border-radius:16px; padding:14px 16px; box-shadow:0 6px 16px rgba(255,79,161,.08) }
  .w12{grid-column:span 12} .w6{grid-column:span 12}
  @media (min-width:760px){ .w6{grid-column:span 6} }
  .title{ font-weight:700; color:#a4005a; margin-bottom:6px; display:flex; align-items:center; gap:8px }
  .big{ font-size:clamp(22px,4.6vw,34px); line-height:1.2 }
  .tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
  .tag{ padding:6px 10px; background:#fff0f7; border:1px dashed #ffc2df; border-radius:999px; font-size:13px }
  .muted{opacity:.9}
  .footer{ text-align:center; margin-top:18px; font-size:12px; opacity:.7 }

  /* 特別メッセージ＆CTA */
  .special{ background:#fff; border:1px solid #ffe5f1; border-radius:16px; padding:16px; box-shadow:0 6px 16px rgba(255,79,161,.08) }
  .special .title{ font-weight:700; color:#a4005a; margin-bottom:8px; display:flex; align-items:center; gap:8px }
  .special .msg{ line-height:1.9 }
　.special .cta-row{
  display:grid;
  grid-template-columns: 1fr; /* スマホでは1列 */
  gap:10px;
  margin-top:12px;
}

.special .btn-link{
  display:flex;
  justify-content:center;     /* 水平方向センター */
  align-items:center;         /* 垂直方向センター */
  text-align:center;
  width:100%;
  min-height:72px;            /* 高さを揃える */
  padding:12px 16px;
  border-radius:999px;
  font-weight:700;
  text-decoration:none;
  border:2px solid var(--hotpink);
  background:#fff;
  color:var(--hotpink);
  box-shadow:0 6px 14px rgba(0,0,0,.06);
  line-height:1.35;           /* 2行でも読みやすい */
}

.special .btn-link.primary{
  background:var(--pink);
  color:#fff;
  border-color:var(--hotpink);
}
/* ▲ここまで差し替え */

  .cta-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px }
  .btn-link{ display:inline-block; text-decoration:none; font-weight:700; border-radius:999px; padding:10px 14px; border:2px solid var(--hotpink); color:var(--hotpink); background:#fff; box-shadow:0 6px 14px rgba(0,0,0,.06) }
  .btn-link.primary{ background:var(--pink); color:#fff; border-color:var(--hotpink) }
  .btn-link:active{ transform:translateY(1px) scale(.99) }
  .note{ font-size:12px; opacity:.75; margin-top:6px }
</style>
</head>
<body>
  <div class="app" role="application" aria-live="polite">
    <span class="ribbon">❤ mimi-chan uranai ❤</span>
    <h1>❤みみちゃん占い❤</h1>
    <p class="lead">「占う」を押すと、総合運・恋愛・仕事・金運・ラッキーカラー・ラッキーアイテム・開運アドバイスが出ます。</p>

    <div class="controls">
      <button class="primary" id="drawBtn">占う ✨</button>
      <button class="ghost" id="againBtn" disabled>もう一回引く</button>
      <button class="ghost" id="shareBtn" disabled>結果をシェア</button>
    </div>

    <div class="grid" id="resultArea" hidden>
      <section class="card w12">
        <div class="title">⭐ 今日の運勢（総合運）</div>
        <div id="total" class="big">—</div>
        <div class="tags" id="stars"></div>
      </section>

      <section class="card w6">
        <div class="title">💘 恋愛運</div>
        <div id="love">—</div>
      </section>
      <section class="card w6">
        <div class="title">💼 仕事運</div>
        <div id="work">—</div>
      </section>

      <section class="card w6">
        <div class="title">💰 金運</div>
        <div id="money">—</div>
      </section>
      <section class="card w6">
        <div class="title">🎯 ラッキーポイント</div>
        <div class="tags" id="lucky"></div>
      </section>

      <section class="card w12">
        <div class="title">💫 開運アドバイス</div>
        <div id="advice" class="muted">—</div>
      </section>

      <!-- 特別メッセージ枠 -->
      <section class="w12 special" id="specialBox" hidden>
        <div class="title">💌 特別メッセージ<br>（愛され直しのヒント）</div>
        <div id="specialMsg" class="msg">—</div>

        <!-- ▼▼▼ ここが最終のCTA（3つ） ▼▼▼ -->
        <div class="cta-row">
          <!-- ① 個別相談 -->
          <a class="btn-link primary" id="ctaConsult"
             href="https://wild-durian-7e0.notion.site/30-25af18996dfa8010acbccc521eb99f89?source=copy_link"
             target="_blank" rel="noopener">個別相談で“私の場合”を聞く<br>（初回30分無料）</a>

          <!-- ② マッチングアプリ -->
          <a class="btn-link" id="ctaApp"
             href="https://wild-durian-7e0.notion.site/40-50-256f18996dfa80ab818bc8cead4ed590?source=copy_link"
             target="_blank" rel="noopener nofollow">出会いの可能性を広げる<br>（おすすめアプリ）</a>

          <!-- ③ 本格占い（連携・通話対応） -->
          <a class="btn-link" id="ctaUranai"
             href="https://wild-durian-7e0.notion.site/257f18996dfa80a2a54fe7714630052a?source=copy_link"
             target="_blank" rel="noopener nofollow">本格占いを試す<br>（連携・通話対応）</a>
        </div>
        <!-- ▲▲▲ 最終のCTAここまで ▲▲▲ -->

        <div class="note">※ 無理に動かなくて大丈夫。あなたのペースでOKです。</div>
      </section>
    </div>

    <div class="footer">© mimi-chan uranai</div>
  </div>

<script>
(() => {
  /* ===== 大量バリエーション ===== */
  const TOTAL = [
    ["大吉","願いが実るサイン。大胆にいこう🌈"],
    ["大吉","タイミングが噛み合う日。直感に従って✨"],
    ["中吉","肩の力が抜けて実力発揮。笑顔で◎"],
    ["中吉","動けばチャンスが増える。小さく一歩🌟"],
    ["小吉","小さなラッキーが積み重なる日🍀"],
    ["小吉","コツコツが実を結ぶ。丁寧が鍵。"],
    ["吉","穏やかに整う。基本に忠実に🌸"],
    ["吉","ご縁が広がる。挨拶とお礼を大切に。"],
    ["末吉","今日は整える日。睡眠と栄養を少し多めに。"],
    ["末吉","焦らず準備。下ごしらえが未来を軽くする◎"],
    ["凶","守りの日。早めの撤退が勝ち🫶"],
    ["凶","静観が賢い選択。自己ケアに時間を。"]
  ];

  const LOVE = [
    "笑顔の挨拶がご縁を引き寄せるよ。","返信は短く丁寧に。相手のペース尊重◎","甘えすぎ注意。まず“ありがとう”。",
    "温かい飲み物を一緒に。距離が縮まる。","思い込みを外して観察すると発見が。","鏡を見る回数＝魅力度UPのサイン。",
    "今日は“聞き役”に回ると好感度UP。","髪を整えるだけで印象が3割変わる！","会えなくても丁寧な一言で安心感を。",
    "過去より“今なにをするか”を話題に。","柔らかな香りが武器。匂いケア◎","ラッキー色を身につけて出会い運UP。",
    "境界線はやさしく明確に。無理しない。","“また今度ね”の約束を具体的な日に。"
  ];

  const WORK = [
    "午前中が勝負。重いタスクから先に！","メモ魔で段取り良く。チェックは二重で◎","頼られることで評価UP。ひと声かける。",
    "提出前に“余白”を整えると伝わり度UP。","小さな改善提案が通りやすい日。","ToDoを3つに絞ると集中できる。",
    "報告は“結論→理由→お願い”で時短。","姿勢を1cm伸ばすと集中力が戻るよ。","新規より既存の磨き込みが吉。",
    "資料は図解1枚あると刺さる。","早歩き移動＝脳が冴えるブースト。","締切の30分前を“本当の締切”に設定。",
    "メールの件名を具体的に→即レス率UP。","5分だけ着手でエンジンをかける。"
  ];

  const MONEY = [
    "ポイント活用で得する日。必要な物だけに◎","“安い”より“長く使える”基準で選ぶと吉。","現金を少し多めに持つと安心感が違う。",
    "サブスクの見直しチャンス！","買うより借りる・シェアが吉。","差し入れが巡り巡って返ってくる。",
    "価格比較は1店舗増やすだけで変わる。","財布のレシート整理で金運整う。","自販機は今日は1回まで。メリハリ◎",
    "冷蔵庫“使い切り”で臨時収入気分。","欲しいものは“48時間ルール”で判断。","固定費の年1見直しメモをセット。",
    "Payのポイント交換忘れにご用心。","クーポンは期限前に棚卸し。"
  ];

  const COLORS = ["さくらピンク","ミントグリーン","ラベンダー","空色","ミルクホワイト","コーラル","ハニーイエロー","ネイビー","シャンパンゴールド","アイスグレー","ライラック","ペールベージュ","チェリーレッド","パウダーブルー"];
  const ITEMS  = ["ハンカチ","小さな鏡","お茶","イヤホン","ペン","アロマ","温かい飲み物","マスクケース","飴ちゃん","目薬","モバイルバッテリー","ハンドクリーム","ヘアゴム","リップ","ミニノート","ティッシュケース"];
  const SPOTS  = ["朝の光","緑の見える場所","静かな角席","本屋さん","神社の鳥居","カフェの窓際","きれいなトイレ","駅ホームの端","近所の公園","エレベーター前で深呼吸","階段の踊り場","図書館の入口付近","花が飾られた場所","ベンチの日なた"];

  const ADVICES = [
    "“3回深呼吸→微笑む”で運の流れが整うよ。","やることを3つだけ書き出し、終えたら小さくガッツポーズ。","姿勢を1cmだけ伸ばす。世界の見え方が変わる。",
    "お礼は“具体的に＋即”。相手の名前を添えると最強。","15分の散歩でアイデア湧く。太陽を浴びよう。","スマホ写真を10枚消すと頭が軽くなる。",
    "靴を拭く／磨くと足取りまで軽く。","机の角を1箇所だけ片づける→波及効果◎","“今日はここまででOK”を自分に許可する。",
    "紙に“ありがとう”を書くと流れが良くなる。","湯船5分だけでも気分が整う。","温かい飲み物で心を戻す。"
  ];

  // ペルソナ向け“寄り添い＆希望”メッセージ（総合運に応じて切替）
  const SPECIAL = {
    good: [
      "過去の痛みを抱えたままでも大丈夫。あなたはもう“愛され直す準備”ができています。小さな一歩で、やさしいご縁が動き出します。",
      "笑顔に温度が戻る日。あなたの誠実さに惹かれる人が、ゆっくりと近づいています。自分を大切にして、受け取る準備を。"
    ],
    neutral: [
      "焦らなくていい。今日は“整える日”。心と生活をくるっと一周、やさしく点検。整うほど、ご縁は静かに寄ってきます。",
      "過去は“学び”に変わっています。あなたの優しさは価値。小さな自己肯定を積み上げましょう。"
    ],
    low: [
      "今日は守りの日。無理せず安心を最優先に。ほんの少しの自己ケアが、明日を軽くします。",
      "つらい記憶が顔を出したら深呼吸を3回。過去はあなたの価値を決めません。今ここから、また愛されていけます。"
    ]
  };

  /* ===== ヘルパ ===== */
  const pick = arr => arr[Math.floor(Math.random()*arr.length)];
  const range = n => [...Array(n).keys()];
  const $ = s => document.querySelector(s);

  const area=$("#resultArea"), btn=$("#drawBtn"), again=$("#againBtn"), share=$("#shareBtn");

  function draw(){
    area.hidden = false;

    // 総合運
    const [rank,msg] = pick(TOTAL);
    $("#total").textContent = `${rank}　${msg}`;

    // 💖マーク（大吉=5 etc）
    const starsWrap = $("#stars");
    starsWrap.innerHTML = "";
    const level = { "大吉":5, "中吉":4, "小吉":3, "吉":3, "末吉":2, "凶":1 }[rank] || 3;
    range(level).forEach(()=>{ const t=document.createElement("span"); t.className="tag"; t.textContent="💖"; starsWrap.appendChild(t); });

    // 各運勢
    $("#love").textContent  = pick(LOVE);
    $("#work").textContent  = pick(WORK);
    $("#money").textContent = pick(MONEY);

    // ラッキーポイント（🎨/🧸/📍）
    const lucky=$("#lucky"); lucky.innerHTML="";
    [ ["🎨 カラー", pick(COLORS)], ["🧸 アイテム", pick(ITEMS)], ["📍 スポット", pick(SPOTS)] ].forEach(([label,val])=>{
      const tag=document.createElement("span"); tag.className="tag"; tag.textContent=`${label}: ${val}`; lucky.appendChild(tag);
    });

    // 開運アドバイス
    $("#advice").textContent = pick(ADVICES);

    // 特別メッセージ（総合運でバケット切替）
    const box=$("#specialBox"), msgBox=$("#specialMsg");
    let bucket="neutral";
    if(rank==="大吉"||rank==="中吉") bucket="good";
    if(rank==="末吉"||rank==="凶")   bucket="low";
    msgBox.textContent = pick(SPECIAL[bucket]);
    box.hidden = false;

    // クリック計測（rank付与）
    const addParam=(url,key,val)=>{ try{const u=new URL(url,location.href); u.searchParams.set(key,val); return u.toString();}catch{ return url; } };
    const con=$("#ctaConsult"), app=$("#ctaApp"), ura=$("#ctaUranai");
    con.href = addParam(con.href,"rank",rank);
    app.href = addParam(app.href,"rank",rank);
    ura.href = addParam(ura.href,"rank",rank);

    again.disabled=false; share.disabled=false;
  }

  btn.addEventListener("click", draw);
  again.addEventListener("click", draw);
  share.addEventListener("click", async ()=>{
    const text = `❤みみちゃん占い❤\n${$("#total").textContent}\n`
      + `💘 ${$("#love").textContent}\n💼 ${$("#work").textContent}\n💰 ${$("#money").textContent}\n`
      + `🎨/🧸/📍 ${$("#lucky").innerText}\n🪄 ${$("#advice").textContent}\n`;
    if(navigator.share){ try{ await navigator.share({text}); }catch(e){} }
    else if(navigator.clipboard){ await navigator.clipboard.writeText(text); alert("結果をコピーしました。SNSに貼り付けてシェアできます✨"); }
    else{ prompt("結果をコピーして使ってください👇", text); }
  });
})();
</script>
</body>
</html>





